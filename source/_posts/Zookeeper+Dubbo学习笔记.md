---
title: Zookeeper+Dubbo学习笔记
date: 2020-08-21 18:52:30
tags: [笔记, Zookeeper, Dubbo]
---

# 1、Zookeeper + Dubbo大纲

## 1.1、Zookeeper

<!-- more -->

### 1.1.1、Zookeeper简介

#### 1.1.1.1、核心概念



#### 1.1.1.2、CAP原则

#### 1.1.1.3、一致性协议

##### 1.1.1.3.1、2PC

##### 1.1.1..3.2、3PC

##### 1.1.1.3.3、Paxos算法

##### 1.1.1.3.4、ZAB协议

### 1.1.2、Zookeeper环境搭建

#### 1.1.2.1、单机环境

#### 1.1.2.2、Zookeeper环境搭建

### 1.1.3、Zookeeper基本使用

#### 1.1.3.1、Zookeeper数据结构

#### 1.1.3.2、Zookeeper命令行操作

#### 1.1.3.3、Zookeeper API解析

### 1.1.4、Zookeeper源码解析

#### 1.1.4.1、启动过程

### 1.1.4.2、watcher核心机制

#### 1.1.4.3、leader选择

### 1.1.5、Zookeeper应用场景

#### 1.1.5.1、分布式配置中心

#### 1.1.5.2、负载均衡

#### 1.1.5.3、统一命名服务

#### 1.1.5.4、DNS服务

#### 1.1.5.5、集群管理

#### 1.1.5.6、分布式锁

#### 1.1.5.7、分布式队列

## 1.2、Dubbo

### 1.2.1、RPC核心

#### 1.2.1.1、常见的RPC框架

##### 1.2.1.1.1、Dubbo

##### 1.2.1.1.2、新浪开源

##### 1.2.1.1.3、Facebook开源

##### 1.2.1.1.4、谷歌开源

##### 1.2.1.1.5、百度开源

##### 1.2.1.1.6、Hessian

#### 1.2.1.2、协议

##### 1.2.1.2.1、dubbo

##### 1.2.1.2.2、http

##### 1.2.1.2.3、RMI

##### 1.2.1.2.4、Hessian

#### 1.2.1.3、序列化

##### 1.2.1.3.1、JDK Serializable

##### 1.2.1.3.2、JSON序列化

##### 1.2.1.3.3、FST

##### 1.2.1.3.4、Thrift

##### 1.2.1.3.5、Hessian

##### 1.2.1.3.6、Protocal Buffers

#### 1.2.1.4、IO模型

##### 1.2.1.4.1、BIO：阻塞IO

##### 1.2.1.4.2、NIO：非阻塞IO

##### 1.2.1.4.3、Multiplexing IO：IO多路复用

##### 1.2.1.4.4、AIO：异步IO

1.2.1.5、手写一套简单的RPC框架

### 1.2.2、Dubbo高可用

#### 1.2.2.1、dubbo容错机制

##### 1.2.2.1.1、Failover Cluster：失败后重试其他provider，支持最大重试数

##### 1.2.2.1.2、Failfast Cluster：快速失败，失败即抛出异常，常用于非等幂性的写操作

##### 1.2.2.1.3、Failsafe Cluster：出现异常忽略

##### 1.2.2.1.4、Failback Cluster：后台记录失败请求，定时重发请求，常用于消息通知操作

##### 1.2.2.1.5、Forking Cluster：并发发送多个请求，请求最快返回

##### 1.2.2.1.6、Broadcast Cluster：广播逐个调用所有的provider，任意一个provider抛异常则抛异常

#### 1.2.2.2、dubbo负载均衡策略与自定义实现

#### 1.2.2.3、dubbo服务降级

#### 1.2.2.4、服务暴露

#### 1.2.2.5、多版本控制

#### 1.2.2.6、多注册中心

### 1.2.3、Dubbo原理

#### 1.2.3.1、协议

#### 1.2.3.2、序列化

#### 1.2.3.3、底层通信原理Netty

### 1.2.4、Dubbo源码解析

#### 1.2.4.1、dubbo的SPI

#### 1.2.4.2、dubbo配置文件加载和解析

#### 1.2.4.3、provider暴露服务

#### 1.2.4.4、consumer消费服务